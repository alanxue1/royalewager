<div class="mx-auto max-w-2xl p-6">
  <div
    data-privy-widget="1"
    data-variant="logout_only"
    data-privy-app-id="<%= ENV["PRIVY_APP_ID"].to_s %>"
  ></div>

  <div class="flex items-center justify-between gap-4">
    <h1 class="text-2xl font-semibold">Create wager</h1>
  </div>

  <div class="mt-6 rounded border p-4">
    <%= form_with model: @wager do |f| %>
      <% if @wager.errors.any? %>
        <div class="mb-4 rounded border border-red-200 bg-red-50 p-3 text-sm text-red-800">
          <div class="font-semibold">Fix these:</div>
          <ul class="list-disc pl-5">
            <% @wager.errors.full_messages.each do |m| %>
              <li><%= m %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
        <div>
          <%= f.label :amount_lamports, "Wager amount (lamports)", class: "block text-sm font-medium" %>
          <%= f.number_field :amount_lamports, min: 1, step: 1, class: "mt-1 w-full rounded border px-3 py-2" %>
        </div>
        <div>
          <label class="block text-sm font-medium" for="wager_duration_minutes">Deadline</label>
          <%= select_tag(
            "wager[duration_minutes]",
            options_for_select([["10 min", 10], ["20 min", 20], ["30 min", 30], ["1 hr", 60]], @wager.duration_minutes.to_i),
            id: "wager_duration_minutes",
            class: "mt-1 w-full rounded border px-3 py-2"
          ) %>
        </div>
      </div>

      <div class="mt-6 flex items-center justify-between">
        <%= link_to "Back", wagers_path, class: "inline-flex cursor-pointer items-center rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 shadow-sm transition-colors hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 active:bg-slate-100" %>
        <%= f.submit "Create", class: "inline-flex cursor-pointer items-center rounded-lg bg-black px-4 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 active:bg-slate-950" %>
      </div>
    <% end %>
  </div>
</div>


