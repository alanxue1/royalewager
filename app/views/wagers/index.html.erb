<div class="mx-auto max-w-6xl px-6 py-10">
  <div
    data-privy-widget="1"
    data-variant="logout_only"
    data-privy-app-id="<%= ENV["PRIVY_APP_ID"].to_s %>"
  ></div>

  <div class="mt-8 grid grid-cols-1 gap-6 lg:grid-cols-12">
    <div class="lg:col-span-7 lg:col-start-2">
      <div class="card-royale rounded-xl">
        <div class="flex items-center justify-between gap-4 border-b-2 border-supercell-gray px-5 py-4">
          <h1 class="text-royale-heading text-2xl font-bold text-supercell-dark">Wagers</h1>
          <%= link_to "New wager", new_wager_path, class: "btn-royale inline-flex cursor-pointer items-center rounded-lg px-4 py-2.5 text-sm text-white" %>
        </div>

        <div class="divide-y divide-supercell-gray">
          <% @wagers.each do |w| %>
            <div class="px-5 py-4 transition-colors hover:bg-supercell-light">
              <div class="flex items-center justify-between gap-4">
                <div class="min-w-0">
                  <%= link_to wager_path(w), class: "block" do %>
                    <div class="font-mono text-sm font-semibold text-supercell-dark">
                      <%= w.tag_a %> vs <%= w.tag_b.presence || "?" %>
                    </div>
                  <div class="mt-1 text-xs text-supercell-medium">created <%= time_ago_in_words(w.created_at) %> ago</div>
                  <% end %>
                </div>

                <div class="shrink-0 text-right">
                  <div class="text-sm font-bold text-supercell-dark"><%= w.status_display %></div>
                  <div class="text-xs font-semibold text-royale-gold"><%= w.amount_display %></div>
                </div>
              </div>
            </div>
          <% end %>

          <% if @wagers.empty? %>
            <div class="px-5 py-4 text-supercell-medium">No wagers yet. Create your first wager to get started!</div>
          <% end %>
        </div>
      </div>
    </div>

    <div class="lg:col-span-4 lg:col-start-9">
      <div class="card-royale rounded-xl p-5">
        <div class="text-xs font-display font-bold uppercase tracking-widest text-supercell-medium">Wallet</div>
        <div class="mt-4">
          <div
            data-privy-widget="1"
            data-variant="fund_only"
            data-privy-app-id="<%= ENV["PRIVY_APP_ID"].to_s %>"
            data-solana-cluster="<%= ENV.fetch("SOLANA_CLUSTER", "devnet") %>"
            data-solana-rpc-url="<%= ENV.fetch("SOLANA_RPC_URL", "https://api.devnet.solana.com") %>"
          ></div>
        </div>
      </div>
    </div>
  </div>
</div>


